<!DOCTYPE HTML>
<html>
<head>
  <title>Practice Test 1 | SATurn Bound</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

    <style>
    /* Add these new styles along with your existing ones */
    .answer-choice {
      display: block;
      margin: 0.5em 0;
      padding: 5px;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    .selected-answer {
      background-color: #e6f7ff;
      border-left: 4px solid #1890ff;
      padding-left: 10px;
    }
    .correct-answer {
      background-color: #e6ffe6;
      border-left: 4px solid #4CAF50;
      padding-left: 10px;
    }
    .incorrect-selection {
      background-color: #ffebee;
      border-left: 4px solid #f44336;
      padding-left: 10px;
    }
    .test-results {
      background: white;
      padding: 2em;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-bottom: 2em;
    }
    .results-header {
      color: #4c5c96;
      border-bottom: 2px solid #4c5c96;
      padding-bottom: 10px;
    }
    .answer-list {
      column-count: 2;
      column-gap: 2em;
    }
    .correct-value {
      color: #4CAF50;
      font-weight: bold;
    }
    .correct-answer-text {
      color: #4CAF50;
      font-weight: bold;
      margin-top: 5px;
    }
    input[type="radio"]:checked + span {
      font-weight: bold;
    }
  </style>

  <style>
    .user-greeting {
      font-size: 1.25em;
      margin-bottom: 1em;
      font-weight: bold;
    }
    .question-block {
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 1.5em;
      margin-bottom: 2em;
      background: #f9f9f9;
    }
    .question-block h3 {
      color: #4c5c96;
      margin-bottom: 0.5em;
    }
    .question-placeholder {
      color: #777;
      font-style: italic;
      margin-bottom: 1em;
      display: block;
    }
    .answer-choice {
      display: block;
      margin: 0.5em 0;
    }
  </style>
</head>
<body class="is-preload">

<div id="wrapper">

  <div id="page-wrapper">

    <header id="header">
      <h1><a href="dashboard.html">SATurn Bound</a></h1>
      <nav><a href="#menu">Menu</a></nav>
    </header>

    <nav id="menu">
      <div class="inner">
        <h2>Menu</h2>
        <ul class="links">
          <li><a href="dashboard.html">Dashboard</a></li>
          <li><a href="practice-tests.html">Practice Tests</a></li>
          <li><a href="logout.html">Log Out</a></li>
        </ul>
        <a href="#" class="close">Close</a>
      </div>
    </nav>

    <section id="banner">
      <div class="inner">
        <h2>Practice Test 1</h2>
        <p class="user-greeting" id="userGreeting">Loading...</p>
      </div>
    </section>

    <section class="wrapper style1">
      <div class="inner">
        <h2 class="major">Question Section</h2>

        <!-- Question 1 -->
        <div class="question-block">
  <h3>Question 1</h3>
  <span class="question-placeholder">The function f is defined by f(x) = 5x + b. For the linear function f, b is a constant and f(6) = 30. What is the value of b?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q1" /> A) 0</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q1" /> B) 2</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q1" /> C) 5</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q1" /> D) 6</label>
</div>

<div class="question-block">
  <h3>Question 2</h3>
  <span class="question-placeholder">The total cost f(x), in dollars, to lease a car for 24 months is given by f(x) = 24x + 1,200, where x is the monthly payment. What is the total cost when the monthly payment is $350?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q2" /> A) $8,400</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q2" /> B) $9,600</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q2" /> C) $10,800</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q2" /> D) $24,600</label>
</div>

<div class="question-block">
  <h3>Question 3</h3>
  <span class="question-placeholder">A roller-coaster car starts 20 feet above ground and rises at 10 feet per second. Which equation gives the height h, in feet, s seconds after it starts?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q3" /> A) h = 10s + 20</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q3" /> B) h = 20s + 50</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q3" /> C) h = 10s + 200</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q3" /> D) h = 20s + 10</label>
</div>

<div class="question-block">
  <h3>Question 4</h3>
  <span class="question-placeholder">If f(x) = (3x - 2)/4, what is the value of f(6)?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q4" /> A) 5/4</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q4" /> B) 10/4</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q4" /> C) 4</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q4" /> D) 16</label>
</div>

<div class="question-block">
  <h3>Question 5</h3>
  <span class="question-placeholder">The function g is defined by g(x) = 7x. For what value of x is g(x) = 63?</span>
  <div style="margin-top: 15px; background-color: #e0e0e0; padding: 15px; border-radius: 8px; width: fit-content;">
    <label for="q5-answer" style="font-weight: bold; color: #000000;">Value of x:</label><br />
    <input 
      type="text" 
      id="q5-answer" 
      name="q5-answer" 
      placeholder="Enter your answer"
      style="padding: 8px; width: 200px; background-color: #ffffff; color: #000000; border: 1px solid #666; border-radius: 4px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);"
    />
  </div>
</div>

<div class="question-block">
  <h3>Question 6</h3>
  <span class="question-placeholder">A bumblebee's head width (mm) can be estimated by adding 0.8 to five times its body weight (grams). What is the head width for a bee weighing 0.6 grams?</span>
  <div style="margin-top: 15px; background-color: #e0e0e0; padding: 15px; border-radius: 8px; width: fit-content;">
    <label for="q6-answer" style="font-weight: bold; color: #000000;">Head width (mm):</label><br />
    <input 
      type="text" 
      id="q6-answer" 
      name="q6-answer" 
      placeholder="Enter your answer"
      style="padding: 8px; width: 200px; background-color: #ffffff; color: #000000; border: 1px solid #666; border-radius: 4px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);"
    />
  </div>
</div>

<div class="question-block">
  <h3>Question 7</h3>
  <span class="question-placeholder">For the constant function f(x) = 45, which table correctly shows three x-values and their f(x) values?</span>
  
  <table style="border-collapse: collapse; margin-top: 10px; width: 50%; background-color: #ffffff; color: #000000;">
    <thead>
      <tr style="background-color: #d9d9d9;">
        <th style="border: 1px solid #999; padding: 8px;">Option</th>
        <th style="border: 1px solid #999; padding: 8px;">Table Contents</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">A</td>
        <td style="border: 1px solid #999; padding: 8px;">All f(x) = 0</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">B</td>
        <td style="border: 1px solid #999; padding: 8px;">All f(x) = 45</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">C</td>
        <td style="border: 1px solid #999; padding: 8px;">f(x) increases from 0</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">D</td>
        <td style="border: 1px solid #999; padding: 8px;">f(x) decreases from 45</td>
      </tr>
    </tbody>
  </table>

  <label class="answer-choice" style="color: black;"><input type="radio" name="q7" /> A</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q7" /> B</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q7" /> C</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q7" /> D</label>
</div>

<div class="question-block">
  <h3>Question 8</h3>
  <span class="question-placeholder">A linear function contains the points (0,4) and (6,34). Which equation defines this function?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q8" /> A) f(x) = 30x + 38</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q8" /> B) f(x) = 4x + 40</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q8" /> C) f(x) = 5x + 4</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q8" /> D) f(x) = 6x + 4</label>
</div>

<div class="question-block">
  <h3>Question 9</h3>
  <span class="question-placeholder">The equation y = 150 - 30x models cargo remaining after x hours. What is the best interpretation of the x-intercept?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q9" /> A) Cargo will be moved in about 5 hours</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q9" /> B) Team moves about 5 tons per hour</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q9" /> C) Team moves about 30 tons per hour</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q9" /> D) Started with 150 tons</label>
</div>

<div class="question-block">
  <h3>Question 10</h3>
  <span class="question-placeholder">The function f(x) = 8x - 96 has what x-intercept?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q10" /> A) (-12, 0)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q10" /> B) (-8, 0)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q10" /> C) (8, 0)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q10" /> D) (12, 0)</label>
</div>

<div class="question-block">
  <h3>Question 11</h3>
  <span class="question-placeholder">The graph of y = f(x) + 19 is shown. If c and d are positive constants, which equation could define f?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q11" /> A) f(x) = -d - cx</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q11" /> B) f(x) = d - cx</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q11" /> C) f(x) = -d + cx</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q11" /> D) f(x) = d + cx</label>
</div>

<div class="question-block">
  <h3>Question 12</h3>
  <span class="question-placeholder">For the linear function f, the table shows three x-values and their f(x) values. If h(x) = f(x) - 15, which equation defines h?</span>
  
  <table style="border-collapse: collapse; margin-top: 10px; width: 50%; background-color: #ffffff; color: #000000;">
    <thead>
      <tr style="background-color: #d9d9d9;">
        <th style="border: 1px solid #999; padding: 8px;">x</th>
        <th style="border: 1px solid #999; padding: 8px;">f(x)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">-5</td>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">0</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">22/5</td>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">1</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">21/5</td>
        <td style="border: 1px solid #999; padding: 8px; text-align: center;">2</td>
      </tr>
    </tbody>
  </table>

  <label class="answer-choice" style="color: black;"><input type="radio" name="q12" /> A) h(x) = 5x - 5</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q12" /> B) h(x) = 5x + 8</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q12" /> C) h(x) = 5x + 10</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q12" /> D) h(x) = 5x + 25</label>
</div>

<div class="question-block">
  <h3>Question 13</h3>
  <span class="question-placeholder">The functions f and g are defined as f(x) = (1/5)x - 10 and g(x) = (4/5)x + 25. If h(x) = f(x) + g(x), what is the x-coordinate of the x-intercept?</span>
  <div style="margin-top: 15px; background-color: #e0e0e0; padding: 15px; border-radius: 8px; width: fit-content;">
    <label for="q13-answer" style="font-weight: bold; color: #000000;">x-coordinate:</label><br />
    <input 
      type="text" 
      id="q13-answer" 
      name="q13-answer" 
      placeholder="Enter your answer"
      style="padding: 8px; width: 200px; background-color: #ffffff; color: #000000; border: 1px solid #666; border-radius: 4px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);"
    />
  </div>
</div>

<div class="question-block">
  <h3>Question 14</h3>
  <span class="question-placeholder">A window repair specialist charges $240 for the first two hours plus an hourly fee for additional hours. The total cost for 6 hours is $480. Which function gives the total cost for x hours (x ≥ 2)?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q14" /> A) f(x) = 70x + 100</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q14" /> B) f(x) = 70x + 240</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q14" /> C) f(x) = 80x</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q14" /> D) f(x) = 80x + 240</label>
</div>

<div class="question-block">
  <h3>Question 15</h3>
  <span class="question-placeholder">The cost of renting a backhoe for up to 12 days is $300 for the first day and $150 for each additional day. Which equation gives the cost y for x days (1 ≤ x ≤ 12)?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q15" /> A) y = 300x - 150</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q15" /> B) y = 300x + 150</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q15" /> C) y = 150x + 300</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q15" /> D) y = 150x + 150</label>
</div>

<div class="question-block">
  <h3>Question 16</h3>
  <span class="question-placeholder">For groups of 30 or more, a museum charges $25 for the first 30 and $15 for each additional person. Which function gives the total charge for n people (n ≥ 30)?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q16" /> A) f(n) = 15n + 300</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q16" /> B) f(n) = 15n + 750</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q16" /> C) f(n) = 40n - 450</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q16" /> D) f(n) = 15n + 25</label>
</div>

<div class="question-block">
  <h3>Question 17</h3>
  <span class="question-placeholder">The cost of renting a carpet cleaner is $60 for the first day and $30 for each additional day. Which function gives the cost C(d) for d days?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q17" /> A) C(d) = 30d + 30</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q17" /> B) C(d) = 30d + 60</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q17" /> C) C(d) = 60d - 30</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q17" /> D) C(d) = 60d + 90</label>
</div>

<div class="question-block">
  <h3>Question 18</h3>
  <span class="question-placeholder">The table gives energy amounts per gram for macronutrients. If 200 calories come from p grams protein, f grams fat, and c grams carbohydrate, which expresses f in terms of p and c?</span>
  
  <table style="border-collapse: collapse; margin-top: 10px; width: 50%; background-color: #ffffff; color: #000000;">
    <thead>
      <tr style="background-color: #d9d9d9;">
        <th style="border: 1px solid #999; padding: 8px;">Macronutrient</th>
        <th style="border: 1px solid #999; padding: 8px;">Food calories</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border: 1px solid #999; padding: 8px;">Protein</td>
        <td style="border: 1px solid #999; padding: 8px;">4.0</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px;">Fat</td>
        <td style="border: 1px solid #999; padding: 8px;">9.0</td>
      </tr>
      <tr>
        <td style="border: 1px solid #999; padding: 8px;">Carbohydrate</td>
        <td style="border: 1px solid #999; padding: 8px;">4.0</td>
      </tr>
    </tbody>
  </table>

  <label class="answer-choice" style="color: black;"><input type="radio" name="q18" /> A) f = 22.2 + (4/9)(p + c)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q18" /> B) f = 22.2 - (4/9)(p + c)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q18" /> C) f = 22.2 - (4/9)(p - c)</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q18" /> D) f = 22.2 + (9/4)(p + c)</label>
</div>

<div class="question-block">
  <h3>Question 19</h3>
  <span class="question-placeholder">For the function f, if f(4x) = x - 8 for all x, what is f(8)?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q19" /> A) -8</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q19" /> B) -6</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q19" /> C) 0</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q19" /> D) 4</label>
</div>

<div class="question-block">
  <h3>Question 20</h3>
  <span class="question-placeholder">The function g is defined by g(x) = b - 20x. If g(c + 8) = c/5, which expression represents b?</span>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q20" /> A) 20c/5</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q20" /> B) 24c/5 + 8</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q20" /> C) 84c/5 + 160</label>
  <label class="answer-choice" style="color: black;"><input type="radio" name="q20" /> D) 20c + 160</label>
</div>

<div style="text-align: center; margin-top: 30px;">
  <button id="submitTest" style="
    background-color: #4c5c96;
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.3s;
  ">
    Submit Test
  </button>
</div>


      </div>
    </section>

    <section id="footer">
      <div class="inner">
        <p>&copy; SATurn Bound Inc. All rights reserved.</p>
      </div>
    </section>

  </div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDedw_zEK-L-AoKO1WkeomLVztoRnYBXt4",
    authDomain: "saturn-bound.firebaseapp.com",
    projectId: "saturn-bound",
    storageBucket: "saturn-bound.appspot.com",
    messagingSenderId: "46027081851",
    appId: "1:46027081851:web:8402230dc2ff241c6cfade"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  let user;

  onAuthStateChanged(auth, (authUser) => {
    if (!authUser) {
      window.location.href = "index.html";
    } else {
      user = authUser;
      document.getElementById("userGreeting").textContent =
        "Hello, " + (user.displayName || user.email) + "!";
    }
  });

  // Correct answers
  const correctAnswers = {
    q1: "A", q2: "C", q3: "A", q4: "C", q5: "9",
    q6: "3.8", q7: "C", q8: "C", q9: "A", q10: "D",
    q11: "B", q12: "D", q13: "-15", q14: "B", q15: "C",
    q16: "A", q17: "B", q18: "B", q19: "B", q20: "C"
  };

  // Initialize user answers
  const userAnswers = JSON.parse(localStorage.getItem('practiceTest3Answers')) || {};
  
  // Setup answer tracking
  function setupAnswerTracking() {
    // Radio buttons
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const questionName = this.name;
        const answerText = this.parentElement.textContent.trim();
        userAnswers[questionName] = answerText.charAt(0);
        
        // Update UI
        document.querySelectorAll(`input[name="${questionName}"]`).forEach(r => {
          r.parentElement.classList.remove('selected-answer');
        });
        this.parentElement.classList.add('selected-answer');
        
        // Save to storage
        localStorage.setItem('practiceTest3Answers', JSON.stringify(userAnswers));
      });
    });
    
    // Text input for Q2
    const q5Input = document.getElementById('q5-answer');
    q5Input.addEventListener('input', function() {
      userAnswers['q5'] = this.value.trim();
      localStorage.setItem('practiceTest3Answers', JSON.stringify(userAnswers));
    });

    const q6Input = document.getElementById('q6-answer');
    q5Input.addEventListener('input', function() {
      userAnswers['q6'] = this.value.trim();
      localStorage.setItem('practiceTest3Answers', JSON.stringify(userAnswers));
    });

    const q13Input = document.getElementById('q13-answer');
    q5Input.addEventListener('input', function() {
      userAnswers['q13'] = this.value.trim();
      localStorage.setItem('practiceTest3Answers', JSON.stringify(userAnswers));
    });
    
    // Load saved answers
    loadSavedAnswers();
  }
  
  function loadSavedAnswers() {
    // Radio buttons
    Object.keys(userAnswers).forEach(question => {
      if (question === 'q5') {
        document.getElementById('q5-correct-answer').value = userAnswers[question];
        return;
      }

       if (question === 'q6') {
        document.getElementById('q6-correct-answer').value = userAnswers[question];
        return;
      }

       if (question === 'q13') {
        document.getElementById('q13-correct-answer').value = userAnswers[question];
        return;
      }
      
      const answerLetter = userAnswers[question];
      document.querySelectorAll(`input[name="${question}"]`).forEach(radio => {
        if (radio.parentElement.textContent.trim().charAt(0) === answerLetter) {
          radio.checked = true;
          radio.parentElement.classList.add('selected-answer');
        }
      });
    });
  }
  
  // Score the test
 function scoreTest() {
    let score = 0;
    const totalQuestions = 20;
    
    for (let i = 1; i <= totalQuestions; i++) {
      const questionKey = `q${i}`;
      
      // Handle text input questions
      if (i === 5 || i === 6 || i === 13) {
        const userAnswer = userAnswers[questionKey] || '';
        const correctAnswer = correctAnswers[questionKey];
        const answerElement = document.getElementById(`q${i}-answer`);
        const correctDisplay = document.getElementById(`q${i}-correct-answer`);
        
        if (userAnswer === correctAnswer) {
          score++;
          answerElement.style.backgroundColor = "#e6ffe6";
          answerElement.style.border = "2px solid #4CAF50";
          correctDisplay.style.display = "none";
        } else {
          answerElement.style.backgroundColor = "#ffebee";
          answerElement.style.border = "2px solid #f44336";
          correctDisplay.textContent = `Correct answer: ${correctAnswer}`;
          correctDisplay.style.display = "block";
        }
      } else {
        // Handle radio questions (all others)
        const selectedOption = document.querySelector(`input[name="${questionKey}"]:checked`);
        const allOptions = document.querySelectorAll(`input[name="${questionKey}"]`);
        
        allOptions.forEach(option => {
          const label = option.parentElement;
          const optionText = label.textContent.trim().charAt(0);
          
          if (optionText === correctAnswers[questionKey]) {
            label.classList.add('correct-answer');
          }
          
          if (selectedOption && option === selectedOption && optionText !== correctAnswers[questionKey]) {
            label.classList.add('incorrect-selection');
          }
        });
        
        if (selectedOption && selectedOption.parentElement.textContent.trim().charAt(0) === correctAnswers[questionKey]) {
          score++;
        }
      }
    }
    
    return { score, totalQuestions };
}
  
  // Show results
 // Show results
function showResults(score, totalQuestions) {
  const percentage = Math.round((score/totalQuestions)*100);
  const resultsHTML = `
    <div class="test-results">
      <h2 class="results-header">
        Test Results: ${score}/${totalQuestions} (${percentage}%)
      </h2>
      <h3>Correct Answers:</h3>
      <ol class="answer-list">
        ${Object.keys(correctAnswers).map(q => `
          <li style="margin-bottom: 8px;">
            <strong>${q.toUpperCase()}:</strong> 
            <span class="correct-value">${correctAnswers[q]}</span>
          </li>
        `).join('')}
      </ol>
    </div>
  `;
  
  // Create or update results container
  const resultsContainer = document.getElementById('results-container');
  if (!resultsContainer) {
    const newContainer = document.createElement('div');
    newContainer.id = 'results-container';
    document.querySelector('.inner').prepend(newContainer);
    newContainer.innerHTML = resultsHTML;
  } else {
    resultsContainer.innerHTML = resultsHTML;
  }
  
  // Scroll to top smoothly
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

// Submit handler
document.getElementById('submitTest').addEventListener('click', async function() {
  // Score the test
  const { score, totalQuestions } = scoreTest();
  
  // Save results
  localStorage.setItem('practiceTest3Results', JSON.stringify({
    score,
    totalQuestions,
    timestamp: new Date().toISOString()
  }));
  
  // Save to Firebase if authenticated
  if (user) {
    const db = getFirestore();
    try {
      await setDoc(doc(db, "users", user.uid, "testAttempts", "practiceTest3"), {
        answers: userAnswers,
        score,
        totalQuestions,
        timestamp: new Date()
      });
    } catch (error) {
      console.error("Error saving to Firebase:", error);
    }
  }
  
  // Show results
  showResults(score, totalQuestions);
  
  // Disable submit button
  this.disabled = true;
  this.style.opacity = "0.7";
  this.style.cursor = "not-allowed";
});
  
  // Initialize when page loads
  document.addEventListener('DOMContentLoaded', setupAnswerTracking);
</script>

<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

</body>
</html>

